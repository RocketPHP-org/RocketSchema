{
  "@type": "Schema",
  "@context": "https://rocketschema.org/context",
  "name": "UserGroup",
  "description": "Represents a collection of users who share common access requirements, organizational structure, or functional responsibilities. Groups provide an additional layer of access management between individual users and roles, making it easier to manage permissions for teams, departments, or projects. Instead of assigning roles to each user individually, you assign roles to a group, and all group members inherit those roles. Groups can be hierarchical - a 'Company' group might contain 'Department' groups, which contain 'Team' groups. Members inherit permissions from all their parent groups. Groups can be static (manually managed membership) or dynamic (automatically populated based on user attributes like department or location). They're essential for modeling real-world organizational structures in the access control system. Groups can have their own permissions independent of roles, useful for resource ownership (like 'Marketing Team owns marketing folders'). They support temporary membership for contractors or project-based work, and can enforce approval workflows for joining sensitive groups. This entity is crucial for scalable access management in large organizations where managing individual user permissions would be impractical.",
  "properties": [
    {
      "name": "groupId",
      "type": "uuid",
      "mode": "stored",
      "description": "Unique identifier for this group",
      "required": true,
      "unique": true
    },
    {
      "name": "code",
      "type": "string",
      "mode": "stored",
      "description": "Unique machine-readable group identifier",
      "required": true,
      "unique": true,
      "example": "eng_team_backend"
    },
    {
      "name": "name",
      "type": "string",
      "mode": "stored",
      "description": "Human-friendly group name",
      "required": true,
      "example": "Backend Engineering Team"
    },
    {
      "name": "description",
      "type": "string",
      "mode": "stored",
      "description": "Purpose and membership criteria for this group",
      "example": "All backend engineers working on core API and infrastructure"
    },
    {
      "name": "type",
      "type": "string",
      "mode": "enum",
      "description": "Classification of the group",
      "enum": ["organization", "department", "team", "project", "committee", "custom"],
      "required": true,
      "example": "team"
    },
    {
      "name": "parentGroupId",
      "type": "uuid",
      "mode": "stored",
      "description": "Parent group in the hierarchy",
      "nullable": true
    },
    {
      "name": "membershipType",
      "type": "string",
      "mode": "enum",
      "description": "How members are added to this group",
      "enum": ["static", "dynamic", "hybrid"],
      "default": "static"
    },
    {
      "name": "membershipRules",
      "type": "string",
      "mode": "stored",
      "description": "JSON rules for automatic membership (dynamic groups)",
      "nullable": true,
      "example": "{\"department\":\"engineering\",\"level\":[\"senior\",\"staff\",\"principal\"]}"
    },
    {
      "name": "maxMembers",
      "type": "integer",
      "mode": "stored",
      "description": "Maximum allowed members (null for unlimited)",
      "nullable": true
    },
    {
      "name": "requiresApproval",
      "type": "boolean",
      "mode": "stored",
      "description": "Whether joining this group needs approval",
      "default": false
    },
    {
      "name": "approvers",
      "type": "string",
      "mode": "stored",
      "description": "JSON array of user IDs who can approve membership",
      "nullable": true
    },
    {
      "name": "autoExpireDays",
      "type": "integer",
      "mode": "stored",
      "description": "Days until membership automatically expires",
      "nullable": true
    },
    {
      "name": "isSystem",
      "type": "boolean",
      "mode": "stored",
      "description": "Whether this is a system-managed group",
      "default": false
    },
    {
      "name": "isPrivate",
      "type": "boolean",
      "mode": "stored",
      "description": "Whether group membership is hidden from non-members",
      "default": false
    },
    {
      "name": "isActive",
      "type": "boolean",
      "mode": "stored",
      "description": "Whether this group is currently active",
      "default": true
    },
    {
      "name": "owner",
      "type": "User",
      "mode": "stored",
      "description": "Primary owner/manager of this group",
      "nullable": true
    },
    {
      "name": "delegatedOwners",
      "type": "string",
      "mode": "stored",
      "description": "JSON array of additional group managers",
      "nullable": true
    },
    {
      "name": "settings",
      "type": "string",
      "mode": "stored",
      "description": "JSON object of group-specific settings",
      "nullable": true
    },
    {
      "name": "tags",
      "type": "string",
      "mode": "stored",
      "description": "JSON array of tags for categorization",
      "nullable": true,
      "example": "[\"engineering\",\"backend\",\"api\"]"
    },
    {
      "name": "createdAt",
      "type": "DateTime",
      "mode": "stored",
      "description": "When this group was created",
      "required": true
    },
    {
      "name": "createdBy",
      "type": "User",
      "mode": "stored",
      "description": "User who created this group",
      "nullable": true
    },
    {
      "name": "updatedAt",
      "type": "DateTime",
      "mode": "stored",
      "description": "Last modification timestamp"
    },
    {
      "name": "archivedAt",
      "type": "DateTime",
      "mode": "stored",
      "description": "When this group was archived",
      "nullable": true
    },
    {
      "name": "metadata",
      "type": "object",
      "mode": "stored",
      "description": "Additional group configuration and attributes"
    }
  ],
  "examples": [
    {
      "@type": "UserGroup",
      "groupId": "grp_backend_eng",
      "code": "eng_backend",
      "name": "Backend Engineering",
      "description": "Core backend engineering team responsible for APIs, databases, and infrastructure",
      "type": "team",
      "parentGroupId": "grp_engineering",
      "membershipType": "hybrid",
      "membershipRules": "{\"department\":\"engineering\",\"team\":\"backend\"}",
      "maxMembers": 50,
      "requiresApproval": true,
      "approvers": "[\"user_cto\",\"user_eng_director\"]",
      "autoExpireDays": null,
      "isSystem": false,
      "isPrivate": false,
      "isActive": true,
      "owner": "user_eng_director",
      "delegatedOwners": "[\"user_backend_lead\",\"user_principal_eng\"]",
      "settings": "{\"slack_channel\":\"#backend-team\",\"github_team\":\"backend-engineers\"}",
      "tags": "[\"engineering\",\"backend\",\"api\",\"infrastructure\"]",
      "createdAt": "2024-01-01T00:00:00Z",
      "createdBy": "user_cto",
      "metadata": {
        "costCenter": "ENG001",
        "budget": "team_backend"
      }
    },
    {
      "@type": "UserGroup",
      "groupId": "grp_project_phoenix",
      "code": "proj_phoenix",
      "name": "Project Phoenix Team",
      "description": "Cross-functional team for Q2 2024 Phoenix initiative",
      "type": "project",
      "membershipType": "static",
      "maxMembers": 20,
      "requiresApproval": false,
      "autoExpireDays": 90,
      "isSystem": false,
      "isPrivate": true,
      "isActive": true,
      "owner": "user_project_manager",
      "settings": "{\"jira_project\":\"PHX\",\"confluence_space\":\"PHOENIX\"}",
      "tags": "[\"project\",\"q2_2024\",\"strategic\"]",
      "createdAt": "2024-03-01T00:00:00Z",
      "metadata": {
        "projectCode": "PHX-2024",
        "deadline": "2024-06-30"
      }
    }
  ]
}
