{
  "@type": "Schema",
  "@context": "https://rocketschema.org/context",
  "name": "User",
  "description": "Represents a user account that provides authenticated access to a system or application. A User is the fundamental entity that uniquely identifies any individual or service account with access privileges, distinct from Person which represents human identity. User accounts exist across virtually all software systems - from enterprise applications to public websites, from healthcare portals to educational platforms. The entity captures core authentication identifiers (username, email) and system-level preferences (locale, timezone) that control the user's interaction experience. Each User may reference a Person entity for biographical data, separating system access from personal identity. Users progress through a standard lifecycle: registration, email verification, activation, and potential suspension or deactivation. The account status and timestamps track this lifecycle without storing sensitive credentials, which belong in separate authentication entities. User serves as the central reference point for relationships to sessions, permissions, roles, activities, preferences, and notifications. By maintaining a clean separation between system access (User) and personal identity (Person), the model supports scenarios where one person has multiple user accounts or where service accounts exist without a corresponding person.",
  "properties": [
    {
      "name": "username",
      "type": "string",
      "mode": "stored",
      "description": "Unique username for login, cannot be changed once set",
      "required": true,
      "unique": true,
      "example": "john.doe"
    },
    {
      "name": "email",
      "type": "string",
      "mode": "stored",
      "description": "Primary email address used for account recovery and notifications",
      "required": true,
      "unique": true,
      "format": "email",
      "example": "john.doe@example.com"
    },
    {
      "name": "emailVerified",
      "type": "boolean",
      "mode": "computed",
      "description": "Whether the email address has been verified, computed from emailVerifiedAt being non-null",
      "computation": "emailVerifiedAt != null"
    },
    {
      "name": "emailVerifiedAt",
      "type": "DateTime",
      "mode": "stored",
      "description": "Timestamp when the email was verified through confirmation link or other verification mechanism",
      "nullable": true
    },
    {
      "name": "person",
      "type": "Person",
      "mode": "stored",
      "description": "Reference to personal information (name, date of birth, address, etc.) when the user represents a human individual",
      "nullable": true
    },
    {
      "name": "status",
      "type": "string",
      "mode": "enum",
      "description": "Current status of the user account in its lifecycle",
      "enum": [
        "active",
        "inactive",
        "suspended",
        "locked",
        "pending"
      ],
      "default": "pending",
      "example": "active"
    },
    {
      "name": "statusReason",
      "type": "string",
      "mode": "stored",
      "description": "Human-readable explanation for the current status, particularly useful for suspended or locked accounts",
      "nullable": true
    },
    {
      "name": "statusChangedAt",
      "type": "DateTime",
      "mode": "stored",
      "description": "When the status was last changed, may be null for accounts that have never changed status",
      "nullable": true
    },
    {
      "name": "locale",
      "type": "string",
      "mode": "stored",
      "description": "User's preferred language and region for UI display, using standard locale codes",
      "default": "en-US",
      "example": "fr-FR"
    },
    {
      "name": "timezone",
      "type": "string",
      "mode": "stored",
      "description": "User's timezone for displaying dates and scheduling, using IANA timezone database names",
      "default": "UTC",
      "example": "Europe/Paris"
    },
    {
      "name": "registeredAt",
      "type": "DateTime",
      "mode": "stored",
      "description": "When the user account was first created in the system",
      "required": true
    },
    {
      "name": "registrationSource",
      "type": "string",
      "mode": "enum",
      "description": "The channel or method through which the user account was created",
      "enum": [
        "web",
        "mobile",
        "api",
        "admin",
        "import",
        "social"
      ],
      "example": "web"
    },
    {
      "name": "activatedAt",
      "type": "DateTime",
      "mode": "stored",
      "description": "When the account was activated and became usable, typically after email verification or admin approval",
      "nullable": true
    },
    {
      "name": "deactivatedAt",
      "type": "DateTime",
      "mode": "stored",
      "description": "When the account was deactivated, either by user request or administrative action",
      "nullable": true
    }
  ],
  "examples": [
    {
      "@type": "User",
      "username": "sarah.johnson",
      "email": "sarah.johnson@techcorp.com",
      "emailVerifiedAt": "2024-01-15T10:30:00Z",
      "status": "active",
      "statusReason": null,
      "statusChangedAt": "2024-01-15T10:30:00Z",
      "locale": "en-US",
      "timezone": "America/Los_Angeles",
      "registeredAt": "2024-01-15T09:00:00Z",
      "registrationSource": "web",
      "activatedAt": "2024-01-15T10:30:00Z",
      "deactivatedAt": null
    },
    {
      "@type": "User",
      "username": "admin.system",
      "email": "admin@company.com",
      "emailVerifiedAt": "2023-06-01T08:00:00Z",
      "status": "locked",
      "statusReason": "Too many failed login attempts from unknown location",
      "statusChangedAt": "2024-03-15T14:22:00Z",
      "locale": "en-GB",
      "timezone": "Europe/London",
      "registeredAt": "2023-06-01T08:00:00Z",
      "registrationSource": "admin",
      "activatedAt": "2023-06-01T08:00:00Z",
      "deactivatedAt": null
    },
    {
      "@type": "User",
      "username": "maria.garcia",
      "email": "maria.garcia@university.edu",
      "emailVerifiedAt": null,
      "status": "pending",
      "statusReason": "Awaiting email verification",
      "statusChangedAt": null,
      "locale": "es-ES",
      "timezone": "Europe/Madrid",
      "registeredAt": "2024-03-20T16:45:00Z",
      "registrationSource": "mobile",
      "activatedAt": null,
      "deactivatedAt": null
    }
  ]
}
