{
  "@type": "Schema",
  "@context": "https://rocketschema.org/context",
  "name": "UserPreference",
  "description": "Stores personalized settings and preferences for each user's experience in the application. This entity allows users to customize how the application looks, behaves, and communicates with them. Preferences can range from UI themes and layout choices to notification settings, privacy options, and feature toggles. Each preference is stored as a key-value pair, making the system extensible - new preferences can be added without changing the database schema. The entity supports different data types (boolean, string, number, JSON) and can organize preferences into categories like 'appearance', 'notifications', or 'privacy'. Default values ensure new users get a sensible starting configuration, while user-specific values override these defaults. This personalization improves user satisfaction by letting each person tailor the application to their needs and working style.",
  "properties": [
    {
      "name": "user",
      "type": "User",
      "mode": "stored",
      "description": "The user who owns these preferences",
      "required": true
    },
    {
      "name": "key",
      "type": "string",
      "mode": "stored",
      "description": "Unique identifier for the preference setting",
      "required": true,
      "example": "theme.colorScheme"
    },
    {
      "name": "value",
      "type": "string",
      "mode": "stored",
      "description": "The preference value stored as a string (can be parsed based on type)",
      "required": true,
      "example": "dark"
    },
    {
      "name": "type",
      "type": "string",
      "mode": "enum",
      "description": "Data type of the preference value for proper parsing",
      "enum": ["string", "number", "boolean", "json", "date"],
      "default": "string",
      "example": "string"
    },
    {
      "name": "category",
      "type": "string",
      "mode": "stored",
      "description": "Grouping category for organizing related preferences",
      "example": "appearance"
    },
    {
      "name": "label",
      "type": "string",
      "mode": "stored",
      "description": "Human-readable name for the preference",
      "example": "Color Scheme"
    },
    {
      "name": "description",
      "type": "string",
      "mode": "stored",
      "description": "Help text explaining what this preference does",
      "example": "Choose between light and dark theme"
    },
    {
      "name": "defaultValue",
      "type": "string",
      "mode": "stored",
      "description": "System default if user hasn't set a value",
      "example": "light"
    },
    {
      "name": "possibleValues",
      "type": "string[]",
      "mode": "stored",
      "description": "List of allowed values for validation",
      "example": ["light", "dark", "auto"]
    },
    {
      "name": "isPublic",
      "type": "boolean",
      "mode": "stored",
      "description": "Whether other users can see this preference (for social features)",
      "default": false
    },
    {
      "name": "isEditable",
      "type": "boolean",
      "mode": "stored",
      "description": "Whether the user can change this preference",
      "default": true
    },
    {
      "name": "lastModifiedAt",
      "type": "DateTime",
      "mode": "stored",
      "description": "When the user last changed this preference"
    },
    {
      "name": "metadata",
      "type": "object",
      "mode": "stored",
      "description": "Additional configuration or validation rules"
    }
  ],
  "examples": [
    {
      "@type": "UserPreference",
      "key": "notifications.email.marketing",
      "value": "false",
      "type": "boolean",
      "category": "notifications",
      "label": "Marketing Emails",
      "description": "Receive promotional emails and newsletters about new features and updates",
      "defaultValue": "true",
      "possibleValues": ["true", "false"],
      "isPublic": false,
      "isEditable": true,
      "lastModifiedAt": "2024-03-10T14:00:00Z",
      "metadata": {
        "frequency": "weekly",
        "lastOptOut": "2024-03-10T14:00:00Z"
      }
    },
    {
      "@type": "UserPreference",
      "key": "dashboard.widgets.layout",
      "value": "{\"columns\":3,\"widgets\":[{\"id\":\"stats\",\"position\":1},{\"id\":\"chart\",\"position\":2},{\"id\":\"tasks\",\"position\":3}]}",
      "type": "json",
      "category": "dashboard",
      "label": "Dashboard Layout",
      "description": "Customized arrangement of widgets on your dashboard",
      "defaultValue": "{\"columns\":2,\"widgets\":[]}",
      "isPublic": false,
      "isEditable": true,
      "lastModifiedAt": "2024-02-28T09:30:00Z",
      "metadata": {
        "maxWidgets": 10,
        "allowedWidgets": ["stats", "chart", "tasks", "calendar", "news"]
      }
    }
  ]
}
