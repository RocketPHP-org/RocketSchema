{
  "@type": "Schema",
  "@context": "https://rocketschema.org/context",
  "name": "TaxExemption",
  "description": "Tax exemption rules for products, services, or customers. Defines conditions under which taxes do not apply.",
  "properties": [
    {
      "name": "tax",
      "type": "Tax",
      "mode": "stored",
      "description": "Reference to the Tax that can be exempted",
      "required": true
    },
    {
      "name": "exemptionType",
      "type": "string",
      "mode": "enum",
      "enum": [
        "category_based",
        "customer_based",
        "amount_threshold",
        "certificate_based",
        "location_based",
        "temporary"
      ],
      "description": "Type of exemption",
      "required": true,
      "example": "category_based"
    },
    {
      "name": "exemptionCategories",
      "type": "string[]",
      "mode": "stored",
      "description": "Product/service categories that are exempt",
      "example": ["essential_goods", "education", "healthcare"]
    },
    {
      "name": "customerTypes",
      "type": "string[]",
      "mode": "stored",
      "description": "Customer types that are exempt (non_profit, government, diplomatic, etc.)",
      "example": ["non_profit", "government", "diplomatic"]
    },
    {
      "name": "thresholdAmount",
      "type": "MonetaryAmount",
      "mode": "stored",
      "description": "Amount threshold for exemption"
    },
    {
      "name": "certificateRequired",
      "type": "boolean",
      "mode": "stored",
      "description": "Whether a tax exemption certificate is required",
      "example": true
    },
    {
      "name": "effectiveFrom",
      "type": "Date",
      "mode": "stored",
      "description": "Date from which this exemption is effective",
      "example": "2024-01-01"
    },
    {
      "name": "effectiveUntil",
      "type": "Date",
      "mode": "stored",
      "description": "Date until which this exemption is effective (null if indefinite)",
      "example": "2024-12-31"
    }
  ],
  "examples": [
    {
      "@type": "TaxExemption",
      "tax": {
        "@type": "Tax",
        "code": "VAT-STD-20"
      },
      "exemptionType": "category_based",
      "exemptionCategories": ["essential_goods", "basic_food", "medicine"],
      "certificateRequired": false,
      "effectiveFrom": "2024-01-01"
    },
    {
      "@type": "TaxExemption",
      "tax": {
        "@type": "Tax",
        "code": "US-SALES-TAX"
      },
      "exemptionType": "customer_based",
      "customerTypes": ["non_profit", "government", "diplomatic"],
      "certificateRequired": true,
      "effectiveFrom": "2024-01-01"
    },
    {
      "@type": "TaxExemption",
      "tax": {
        "@type": "Tax",
        "code": "IMPORT-DUTY"
      },
      "exemptionType": "amount_threshold",
      "thresholdAmount": {
        "value": 150,
        "currency": "EUR"
      },
      "certificateRequired": false,
      "effectiveFrom": "2024-01-01",
      "effectiveUntil": "2024-12-31"
    }
  ]
}
